if (self.CavalryLogger) { CavalryLogger.start_js(["eH1oF"]); }

__d("ProfileWizardProfilePictureManager",["Arbiter","TimelineProfilePicConfig","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.$1=!1,this.$2=!1}var c=a.prototype;c.informProfilePictureUploaded=function(a){b("Arbiter").inform("profileChanged",a)};c.isOpen=function(){return this.$1};c.hasProfileChanged=function(){return this.$2};c.setIsOpen=function(a){this.$1=a};c.subscribeOnceProfilePictureUploaded=function(a){b("tidyEvent")([b("Arbiter").subscribeOnce("profileChanged",a),b("Arbiter").subscribeOnce(b("TimelineProfilePicConfig").success,a)])};return a}();e.exports=new a()}),null);
__d("ProfileFrameDiscoveryActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileFrameDiscoveryActionsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileFrameDiscoveryActionsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileFrameDiscoveryActionsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setFrameID=function(a){this.$1.frame_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event:!0,frame_id:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ProfilePictureOverlayTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:ProfilePictureOverlayLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfilePictureOverlayLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfilePictureOverlayLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionID=function(a){this.$1.action_id=a;return this};c.setAppID=function(a){this.$1.appid=a;return this};c.setAppversion=function(a){this.$1.appversion=a;return this};c.setAttachmentType=function(a){this.$1.attachment_type=a;return this};c.setClientCarrier=function(a){this.$1.client_carrier=a;return this};c.setClientMediaType=function(a){this.$1.client_media_type=a;return this};c.setClientOverlaySourceMediaID=function(a){this.$1.client_overlay_source_media_id=a;return this};c.setClientUserID=function(a){this.$1.client_userid=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setContainermodule=function(a){this.$1.containermodule=a;return this};c.setCountry=function(a){this.$1.country=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setDialogSource=function(a){this.$1.dialog_source=a;return this};c.setEffectIds=function(a){this.$1.effect_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setEnterCropping=function(a){this.$1.enter_cropping=a;return this};c.setEntryPoint=function(a){this.$1.entry_point=a;return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setEventid=function(a){this.$1.eventid=a;return this};c.setExpirationTime=function(a){this.$1.expiration_time=a;return this};c.setExpirationTimeDuration=function(a){this.$1.expiration_time_duration=a;return this};c.setFrameType=function(a){this.$1.frame_type=a;return this};c.setHashid=function(a){this.$1.hashid=a;return this};c.setHeismanComposerSessionID=function(a){this.$1.heisman_composer_session_id=a;return this};c.setIsPage=function(a){this.$1.is_page=a;return this};c.setIsemployee=function(a){this.$1.isemployee=a;return this};c.setMfStoryKey=function(a){this.$1.mf_story_key=a;return this};c.setMsqrdMaskID=function(a){this.$1.msqrd_mask_id=a;return this};c.setName=function(a){this.$1.name=a;return this};c.setNumLeftSwipes=function(a){this.$1.num_left_swipes=a;return this};c.setNumRightSwipes=function(a){this.$1.num_right_swipes=a;return this};c.setNumSwipeDirectionChanges=function(a){this.$1.num_swipe_direction_changes=a;return this};c.setNumSwipeableFrames=function(a){this.$1.num_swipeable_frames=a;return this};c.setOtherComposerSessionID=function(a){this.$1.other_composer_session_id=a;return this};c.setPaymentID=function(a){this.$1.payment_id=a;return this};c.setPhotoID=function(a){this.$1.photo_id=a;return this};c.setPhotoSource=function(a){this.$1.photo_source=a;return this};c.setPosterID=function(a){this.$1.poster_id=a;return this};c.setProfileMediaMaskCtaMediaID=function(a){this.$1.profile_media_mask_cta_media_id=a;return this};c.setProfileVideoComposerSessionID=function(a){this.$1.profile_video_composer_session_id=a;return this};c.setProxiedAppID=function(a){this.$1.proxied_app_id=a;return this};c.setSeq=function(a){this.$1.seq=a;return this};c.setSessionid=function(a){this.$1.sessionid=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStagingGroundEntryPoint=function(a){this.$1.staging_ground_entry_point=a;return this};c.setStickerID=function(a){this.$1.sticker_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setUseCropping=function(a){this.$1.use_cropping=a;return this};c.setUuid=function(a){this.$1.uuid=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={action_id:!0,appid:!0,appversion:!0,attachment_type:!0,client_carrier:!0,client_media_type:!0,client_overlay_source_media_id:!0,client_userid:!0,clienttime:!0,containermodule:!0,country:!0,deviceid:!0,dialog_source:!0,effect_ids:!0,enter_cropping:!0,entry_point:!0,event_name:!0,eventid:!0,expiration_time:!0,expiration_time_duration:!0,frame_type:!0,hashid:!0,heisman_composer_session_id:!0,is_page:!0,isemployee:!0,mf_story_key:!0,msqrd_mask_id:!0,name:!0,num_left_swipes:!0,num_right_swipes:!0,num_swipe_direction_changes:!0,num_swipeable_frames:!0,other_composer_session_id:!0,payment_id:!0,photo_id:!0,photo_source:!0,poster_id:!0,profile_media_mask_cta_media_id:!0,profile_video_composer_session_id:!0,proxied_app_id:!0,seq:!0,sessionid:!0,source:!0,staging_ground_entry_point:!0,sticker_id:!0,time:!0,use_cropping:!0,uuid:!0,vc:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("PhotoZoomCropStrings",["fbt"],(function(a,b,c,d,e,f,g){a={BUTTON_ZOOM_IN:g._("Mais zoom"),BUTTON_ZOOM_OUT:g._("Menos zoom")};e.exports=a}),null);
__d("PhotoZoomCropSlider.react",["cx","AbstractRangeInput.react","PhotoZoomCropStrings","React","clamp","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=6;c=b("React").createClass({displayName:"PhotoZoomCropSlider",propTypes:{onZoom:a.func.isRequired,position:a.number,zoom:a.number,zoomRange:a.object.isRequired},render:function(){var a=this.props.zoomRange,c=a.max===this.props.zoom,d=a.min===this.props.zoom;return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_55vh")},b("React").createElement("button",{className:(d?"_4nc5":"")+" _4nc6",onClick:this._minus,tabIndex:d?-1:0,title:b("PhotoZoomCropStrings").BUTTON_ZOOM_OUT}),b("React").createElement(b("AbstractRangeInput.react"),{className:"_55vj",disabled:a.max===a.min,max:a.max,min:a.min,onChange:this._logarithmicZoom,values:[this.props.position]}),b("React").createElement("button",{className:(c?"_4nc5":"")+" _4nc7",onClick:this._plus,tabIndex:c?-1:0,title:b("PhotoZoomCropStrings").BUTTON_ZOOM_IN}))},_logarithmicZoom:function(a){__p&&__p();var c=this.props.zoomRange,d=c.max;c=c.min;var e=Math.log2(d),f=Math.log2(c);a=a[0];e=(e-f)/d;var g=Math.exp(f+e*d),h=Math.exp(f+e*c);f=Math.exp(f+e*a);e=b("clamp")((f-h)/(g-h),0,100);f=c+e*(d-c);this.props.onZoom([f],a)},_zoomInDirection:function(a){var c=this.props.zoomRange,d=c.max;c=c.min;this.props.onZoom([b("clamp")(this.props.zoom+a*(d-c)/h,c,d)])},_minus:function(){this._zoomInDirection(-1)},_plus:function(){this._zoomInDirection(1)}});e.exports=c}),null);
__d("PhotoBrowserLink.react",["invariant","AsyncDialog","AsyncRequest","Event","Link.react","Parent","React","ReactDOM","XUIButton.react","tidyEvent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="data-photo-id";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){b("AsyncDialog").send(new(b("AsyncRequest"))(d.props.dialogURI).setRelativeTo(b("ReactDOM").findDOMNode(d.refs.link)),function(a){return b("tidyEvent")(b("Event").listen(a.getRoot(),"click",d.$2.bind(babelHelpers.assertThisInitialized(d),a)))})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){switch(this.props.renderType){case"link":return b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",onClick:this.$1,ref:"link"}),this.props.children);case"button":return b("React").createElement(b("XUIButton.react"),{className:this.props.className,href:"#",label:this.props.label,onClick:this.$1,ref:"link",size:this.props.size})}g(0,1972,this.props.renderType)};d.$2=function(a,c){var d=b("Parent").byAttribute(c.getTarget(),h);d&&(c.kill(),this.props.onPhotoChoose(d.getAttribute(h)),a.finishHide())};return c}(b("React").Component);a.defaultProps={renderType:"link"};e.exports=a}),null);
__d("ProfileCustomExpirationDialog.react",["cx","DateConsts","DatePickerRestraints","ProfileCustomExpirationStrings","React","XUIDateTimePicker.react","XUIDateTimePickerUtils","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUINotice.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=520;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={date:c.props.initialDate},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this,c=this.state.date.getTime();c=!!(c>=this.props.earliestDateAllowed.getTime());var d=new Date(this.props.earliestDateAllowed.getTime()),e=d.getTimezoneOffset()/b("DateConsts").MIN_PER_HOUR*-1;d=this.$1(d,e);return b("React").createElement(b("XUIDialog.react"),{layerHideOnBlur:!1,shown:this.props.shown,width:h},b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!1},this.props.title),b("React").createElement(b("XUIDialogBody.react"),null,b("React").createElement(b("XUIDateTimePicker.react"),{className:"_3-8x",date:this.state.date,dateRestraints:d,onChange:function(b){return a.setState({date:b})}}),this.$2(c)),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.onCancel}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",disabled:!c,label:b("ProfileCustomExpirationStrings").BUTTON_SET,onClick:function(){return a.props.onSubmit(a.state.date)},use:"confirm"})))};d.$2=function(a){return b("React").createElement(b("XUINotice.react"),{className:"_3-8x"+(a?" hidden_elem":""),use:"warn"},b("ProfileCustomExpirationStrings").ERROR_NOTICE)};d.$1=function(a,c){a=b("XUIDateTimePickerUtils").getOffsetUIDate(a,c);c=this.$3(a);return[b("DatePickerRestraints").enforceDateIsNoEarlierThan(c)]};d.$3=function(a){return new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))};return c}(b("React").Component);c.propTypes={earliestDateAllowed:a.instanceOf(Date).isRequired,initialDate:a.instanceOf(Date),onCancel:a.func,onSubmit:a.func.isRequired,shown:a.bool.isRequired,title:a.node};c.defaultProps={earliestDateAllowed:new Date(Date.now()+b("DateConsts").MS_PER_HOUR),initialDate:new Date(Date.now()+7*b("DateConsts").MS_PER_DAY)};e.exports=c}),null);
__d("ProfilePicCanvas",["PhotoEditorCanvas"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=new(b("PhotoEditorCanvas"))(),this.$1.setImageContent(a),this.$2=[],this.$3=1}var c=a.prototype;c.toBlob=function(a){this.$4().toBlob(a)};c.addGraphic=function(a,b){a.setPos(b),this.$2.push(a)};c.setResizeFactor=function(a){this.$3=a;return this};c.getLayerCount=function(){return this.$2.length};c.$5=function(){return window.devicePixelRatio||1};c.$6=function(a){return a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1};c.$4=function(){var a=this.$1.getWidth(),c=new(b("PhotoEditorCanvas"))(),d=c.getContext();c.setImageContent(this.$1.getElement());var e=this.$5(),f=this.$6(d);e=e/f;e!==1&&(c=c.scaledCopy(e),d=c.getContext(),d.scale(e,e),d.save());var g;for(var f=0;f<this.$2.length;f++)e=this.$2[f],g=e.getPos(),d.save(),d.translate(g.x,g.y),c.drawGraphic(e.getDrawableObj(),0,0,a*this.$3,a*this.$3),d.restore();return c};return a}();e.exports=a}),null);
__d("ProfilePicCoordinatesUtil",[],(function(a,b,c,d,e,f){a={getThumbnailCoordinates:function(a,b){return{endX:Math.abs((a.x+a.width)/b.width),endY:Math.abs((a.y+a.height)/b.height),startX:Math.abs(a.x/b.width),startY:Math.abs(a.y/b.height)}}};e.exports=a}),null);
__d("ProfilePicCropViewerStrings",["fbt"],(function(a,b,c,d,e,f,g){a={BUTTON_CANCEL:g._("Cancelar"),BUTTON_CLOSE:g._("Fechar"),BUTTON_EDIT:g._("Editar"),BUTTON_MAKE_TEMPORARY:g._("Tornar tempor\u00e1ria"),BUTTON_SAVE:g._("Salvar"),CAPTION_INPUT_PLACEHOLDER:g._("Adicione uma descri\u00e7\u00e3o..."),CROP_AND_SAVE:g._("Cortar foto"),CROP_EXPLANATION:g._("Corte esta foto antes de salv\u00e1-la como sua foto do perfil."),CROP_INSTRUCTIONS:g._("Mova a caixa para onde voc\u00ea deseja cortar sua foto. Arraste os cantos\n        para dentro ou para fora para ajustar o tamanho."),CROP_SAVING:g._("Salvando foto do perfil..."),DIALOG_TITLE:g._("Voltar para a foto do perfil anterior em"),LEAVE_WARNING_BODY:g._("As altera\u00e7\u00f5es que voc\u00ea fez em sua foto do perfil n\u00e3o ser\u00e3o salvas se voc\u00ea fechar esta caixa de di\u00e1logo."),LEAVE_WARNING_CANCEL:g._("Ficar nesta P\u00e1gina"),LEAVE_WARNING_OK:g._("Sair desta P\u00e1gina"),LEAVE_WARNING_TITLE:g._("Altera\u00e7\u00f5es n\u00e3o salvas"),LEAVE_WARNING_UNLOAD:g._("As altera\u00e7\u00f5es que voc\u00ea fez em sua foto do perfil n\u00e3o foram salvas."),LOADING:g._("Carregando..."),PREV_PHOTO_ADJUST_THUMBNAIL:g._("Esta foto \u00e9 uma foto do perfil usada anteriormente."),FRAME_PREVENTS_CROP:g._("N\u00e3o \u00e9 poss\u00edvel recortar a foto ap\u00f3s adicionar um tema."),PREVIOUS_PIC:g._("Esta foto \u00e9 uma foto do perfil usada anteriormente. Deseja us\u00e1-la novamente?"),PROFILE_PIC_VISIBILITY:g._("Sua foto do perfil atual \u00e9 sempre p\u00fablica."),TEMPORARY_PROFILE_PIC_CONTROL:g._("Reverter para a foto anterior do perfil"),TEMPORARY_OPTION_ONE_HOUR:g._("1 hora"),TEMPORARY_OPTION_ONE_DAY:g._("1 dia"),TEMPORARY_OPTION_ONE_WEEK:g._("1 semana"),TEMPORARY_OPTION_NEVER:g._("Nunca"),TEMPORARY_OPTION_CUSTOM:g._("Personalizado"),HIDDEN_FROM_NEWS_FEED:g._("As altera\u00e7\u00f5es n\u00e3o aparecer\u00e3o no Feed de Not\u00edcias."),SAVE_AND_CROP:g._("Cortar e salvar"),SAVED_BODY:g._("Sua foto do perfil foi salva com sucesso."),SAVED_TITLE:g._("Foto do perfil salva"),SET_THUMBNAIL:g._("Definir miniatura"),SKIP_CROP:g._("Pular o corte"),SKIP_CROP_EXPLANATION:g._("Salve toda a foto como sua foto do perfil e defina a miniatura."),THUMBNAIL_MODE_EXPLANATION:g._("Toda a foto ser\u00e1 salva como sua foto do perfil. Reposicione a foto para definir a miniatura."),UMG_TITLE:g._("Criar foto do perfil"),UPLOADING:g._("Carregando..."),USE_AS_PROFILE_PICTURE:g._("Usar como foto do perfil"),SMALL_PHOTO_WARNING:g._("Essa foto \u00e9 pequena e sua foto do perfil n\u00e3o ficar\u00e1 muito n\u00edtida."),ZOOM_WARNING:g._("Aproximar desta forma far\u00e1 com que sua foto do perfil fique menos n\u00edtida.")};e.exports=a}),null);
__d("ProfilePicExpirationSelector.react",["cx","DateConsts","Layout.react","ProfilePicCropViewerStrings","React","ProfileCustomExpirationDialog.react","ProfileTemporaryOption","XUIGrayText.react","XUISelector.react","formatDate","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("Layout.react").Column,i=b("XUISelector.react").Option;a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={customExpirationString:b("ProfilePicCropViewerStrings").TEMPORARY_OPTION_CUSTOM,expirationDateString:"",showCustomExpirationDialog:!1,value:d.props.defaultValue},d.$3=function(a){d.setState({value:a.value}),d.props.showCustomOption&&a.value===b("ProfileTemporaryOption").CUSTOM?d.setState({showCustomExpirationDialog:!0}):d.props.onChange(a.value)},d.$2=function(a){var c=Math.round((a.getTime()-Date.now())/b("DateConsts").MS_PER_SEC);a=b("formatDate")(a,"m/d/Y g:ia");d.setState({expirationDateString:a,showCustomExpirationDialog:!1,value:b("ProfileTemporaryOption").CUSTOM});d.props.onChange(c)},d.$1=function(){var a=Object.keys(b("ProfileTemporaryOption")).map(function(a){return b("ProfileTemporaryOption")[a]});a=a.indexOf(d.props.defaultValue)===-1?b("ProfileTemporaryOption").CUSTOM:d.props.defaultValue;d.setState({showCustomExpirationDialog:!1,value:a})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=this,c=null,d=null;this.props.showCustomOption&&(c=b("React").createElement(i,{onclick:function(){return a.setState({showCustomExpirationDialog:!0})},value:b("ProfileTemporaryOption").CUSTOM},this.state.customExpirationString),d=b("React").createElement(b("ProfileCustomExpirationDialog.react"),{onCancel:this.$1,onSubmit:this.$2,shown:this.state.showCustomExpirationDialog,title:b("ProfilePicCropViewerStrings").DIALOG_TITLE}));return b("React").createElement(b("Layout.react"),{className:b("joinClasses")("_31ka",this.props.className)},b("React").createElement(h,{className:"_3m_e"},b("React").createElement(b("XUIGrayText.react"),{className:"_3-91",shade:"medium",size:"meta1"},b("ProfilePicCropViewerStrings").TEMPORARY_PROFILE_PIC_CONTROL)),b("React").createElement(h,null,b("React").createElement(b("XUISelector.react"),{defaultValue:this.props.defaultValue,onChange:this.$3,size:"large",value:this.state.value},b("React").createElement(i,{value:b("ProfileTemporaryOption").HOUR},b("ProfilePicCropViewerStrings").TEMPORARY_OPTION_ONE_HOUR),b("React").createElement(i,{value:b("ProfileTemporaryOption").DAY},b("ProfilePicCropViewerStrings").TEMPORARY_OPTION_ONE_DAY),b("React").createElement(i,{value:b("ProfileTemporaryOption").WEEK},b("ProfilePicCropViewerStrings").TEMPORARY_OPTION_ONE_WEEK),b("React").createElement(i,{value:b("ProfileTemporaryOption").PERMANENT},b("ProfilePicCropViewerStrings").TEMPORARY_OPTION_NEVER),c)),b("React").createElement(h,{className:"_6-zq"},b("React").createElement(b("XUIGrayText.react"),{className:"_3-9b",shade:"medium",size:"meta1"},this.state.expirationDateString)),d)};return c}(b("React").PureComponent);c.propTypes={defaultValue:a.number.isRequired,onChange:a.func.isRequired,showCustomOption:a.bool};e.exports=c}),null);
__d("ProfilePicOverlaySearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c.$ProfilePicOverlaySearchSource1=b;return c}var d=c.prototype;d.searchImpl=function(a,c,d){var e=this.$ProfilePicOverlaySearchSource1,f=[];a===""&&e&&(d||{},e.forEach(function(a,c){f.push(new(b("SearchableEntry"))({order:c,title:a,uniqueID:a}))}));c(f,a)};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("ProfilePicOverlaySearchInput.react",["ix","cx","fbt","Image.react","ProfilePicOverlaySearchSource","React","XUITypeahead.react","XUITypeaheadView.react","asset","debounce"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=700;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={value:d.props.value||"",source:new(b("ProfilePicOverlaySearchSource"))(d.props.suggestedSearchQueries)},d.$4=function(a){d.props.onChange&&d.props.onChange();d.$1&&d.$1.reset();var c=a.getTitle();d.setState({value:c});var e=d.props.onQuery;e&&(d.$1=b("debounce")(function(){return e(c)},j,babelHelpers.assertThisInitialized(d)),d.$1())},d.$3=function(a){__p&&__p();d.props.onChange&&d.props.onChange(a);var c=a.target.value;d.$1&&d.$1.reset();if(c.length===0){d.$2();return}d.setState({value:c});var e=d.props.onQuery;e&&(d.$1=b("debounce")(function(){return e(c)},j,babelHelpers.assertThisInitialized(d)),d.$1())},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=null;this.state.value.length>0?a=b("React").createElement(b("Image.react"),{className:"_kjd _kjf",onClick:this.$2.bind(this),src:g("368634")}):a=b("React").createElement(b("Image.react"),{className:"_kjd",src:g("379478")});var c=i._("Pesquisar temas, nomes dos propriet\u00e1rios e muito mais.");return b("React").createElement("div",{className:"_kjg"},b("React").createElement(b("XUITypeahead.react"),{className:"_ih_",highlightOnSelect:!0,initialEntry:null,onChange:this.$3,onSelectAttempt:this.$4,placeholder:c,presenter:{ViewRenderer:b("XUITypeaheadView.react"),useLayer:!0},queryString:this.state.value,searchSource:this.state.source,showEntriesOnFocus:!0,tallInput:!0}),a)};d.$2=function(){this.setState({value:""}),this.props.onClear&&this.props.onClear()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("XProfilePicCropAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/crop_profile_pic/",{photo_id:{type:"Int",required:!0},profile_id:{type:"Int",required:!0},height:{type:"Float",required:!0},width:{type:"Float",required:!0},x:{type:"Float",required:!0},y:{type:"Float",required:!0},source:{type:"Enum",defaultValue:"timeline",enumType:1},method:{type:"Enum",defaultValue:"existing",enumType:1},redirect_uri:{type:"String"},sticker_id:{type:"Int"},expiration_duration:{type:"Int"},caption:{type:"String"},overlay_source_object_id:{type:"FBID"},payment_id:{type:"FBID"},set_profile_photo_shield:{type:"String"},sessionid:{type:"String"}})}),null);
__d("XProfilePicMakeAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/picture/make_profile_pic/",{end_x:{type:"Float"},end_y:{type:"Float"},photo_id:{type:"Int",required:!0},profile_id:{type:"Int",required:!0},source:{type:"Enum",defaultValue:"timeline",enumType:1},start_x:{type:"Float"},start_y:{type:"Float"},method:{type:"Enum",defaultValue:"existing",enumType:1},expiration_duration:{type:"Int"},caption:{type:"String"},sticker_source_object_id:{type:"Int"}})}),null);
__d("XProfilePicSaver",["ArbiterMixin","AsyncRequest","AsyncUploadRequest","ProfilePictureFlowLogging","XProfilePicCropAsyncController","XProfilePicMakeAsyncController","mixin","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=b("ProfilePictureFlowLogging").step;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e,f){var g;f===void 0&&(f=b("XProfilePicCropAsyncController").getURIBuilder());g=a.call(this)||this;g.$XProfilePicSaver1=c;g.$XProfilePicSaver2=d;g.$XProfilePicSaver3=e;g.$XProfilePicSaver10=f;return g}var d=c.prototype;d.setProfilePhotoSource=function(a){this.$XProfilePicSaver4=a;return this};d.setProfilePhotoMethod=function(a){this.$XProfilePicSaver5=a;return this};d.setFlowType=function(a){this.$XProfilePicSaver6=a;return this};d.setProfilePhotoShield=function(a){a&&(this.$XProfilePicSaver8="true");return this};d.setSessionID=function(a){this.$XProfilePicSaver9=a;return this};d.saveCroppedProfilePic=function(a,b,c,d,e){a=this.$XProfilePicSaver10.setFloat("x",a.x).setFloat("y",a.y).setFloat("width",Math.min(a.width,1)).setFloat("height",Math.min(a.height,1));b&&a.setInt("sticker_id",b.id);e&&a.setFBID("payment_id",e);this.$XProfilePicSaver8&&a.setString("set_profile_photo_shield",this.$XProfilePicSaver8);this.$XProfilePicSaver9&&a.setString("sessionid",this.$XProfilePicSaver9);this.$XProfilePicSaver7=!0;this.$XProfilePicSaver11(a,b,c,d);this.$XProfilePicSaver12(g.CROP_SAVING)};d.saveAsProfilePic=function(){this.$XProfilePicSaver13()};d.saveAsProfilePicWithPosition=function(a,b){this.$XProfilePicSaver13(a,b)};d.$XProfilePicSaver13=function(a,c){this.$XProfilePicSaver7=!1;var d=b("XProfilePicMakeAsyncController").getURIBuilder();a&&d.setFloat("start_x",100*a.startX).setFloat("start_y",100*a.startY).setFloat("end_x",100*a.endX).setFloat("end_y",100*a.endY);this.$XProfilePicSaver11(d,null,c);this.$XProfilePicSaver12(g.PREVIOUS_PIC_SAVING)};d.$XProfilePicSaver14=function(a){this.inform("error",a),this.$XProfilePicSaver12(this.$XProfilePicSaver7?g.CROP_FAIL:g.PREVIOUS_PIC_FAIL)};d.$XProfilePicSaver12=function(a){this.$XProfilePicSaver6&&b("ProfilePictureFlowLogging").setFlowType(this.$XProfilePicSaver6),b("ProfilePictureFlowLogging").log(a)};d.$XProfilePicSaver11=function(a,c,d,e){__p&&__p();var f=this;a.setInt("photo_id",this.$XProfilePicSaver1).setInt("profile_id",this.$XProfilePicSaver2).setEnum("source",this.$XProfilePicSaver4||"photo_view").setInt("expiration_duration",this.$XProfilePicSaver3);this.$XProfilePicSaver5&&a.setEnum("method",this.$XProfilePicSaver5);d&&a.setString("caption",d);e&&a.setFBID("overlay_source_object_id",e);c&&c.canvas?c.canvas.toBlob(function(c){c=new(b("AsyncUploadRequest"))().setFiles({farr:c}).setAllowCrossOrigin(!0).setURI(a.getURI());b("tidyEvent")([c.subscribe("success",f.$XProfilePicSaver15.bind(f)),c.subscribe("failure",f.$XProfilePicSaver16.bind(f))]);c.send()}):new(b("AsyncRequest"))(a.getURI()).setErrorHandler(this.$XProfilePicSaver14.bind(this)).setHandler(this.$XProfilePicSaver17.bind(this)).send();this.$XProfilePicSaver12(g.LOADING)};d.$XProfilePicSaver15=function(a,b){this.$XProfilePicSaver17(b.getResponse())};d.$XProfilePicSaver16=function(a,b){this.$XProfilePicSaver14(b.getResponse())};d.$XProfilePicSaver17=function(a){this.inform("success",a),this.$XProfilePicSaver12(this.$XProfilePicSaver7?g.CROP_SUCCESS:g.PREVIOUS_PIC_SUCCESS),this.$XProfilePicSaver12(g.SUCCESS)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("WorkGoalsUIEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({PROFILE_PIC_UPLOADED:"WorkGoalsUIEvents/profilePicUploaded"});e.exports=a}),null);
__d("WorkGoalSetProfilePictureManager",["Arbiter","WorkGoalsUIEvents","destroyOnUnload"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(){this.setIsOpen(!1)}var c=a.prototype;c.setIsOpen=function(a){this.$1=a;return this};c.isOpen=function(){return this.$1};c.informPhotoUploaded=function(a){b("Arbiter").inform(b("WorkGoalsUIEvents").PROFILE_PIC_UPLOADED,a)};c.subscribeOncePhotoUploaded=function(a){var c=b("Arbiter").subscribeOnce(b("WorkGoalsUIEvents").PROFILE_PIC_UPLOADED,a);b("destroyOnUnload")(function(){return c.unsubscribe()})};return a}();e.exports=new a()}),null);
__d("ProfilePicCropViewerMixin",["AsyncResponse","DialogX","DOM","Event","LayerDestroyOnHide","PhotoEditorGraphic","ProfileEditFlowModalManager","ProfilePicCanvas","ProfilePicCoordinatesUtil","ProfilePicCropViewerStrings","ProfilePictureFlowLogging","ProfileWizardModalManager","ProfileWizardProfilePictureManager","React","Run","TimelineURI","Vector","WorkGoalSetProfilePictureManager","XProfilePicSaver","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react","tidyEvent"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PhotoEditorGraphic").Sticker;a=b("React").PropTypes;var h=360;c={propTypes:{cropControllerURIBuilder:a.object,method:a.string,source:a.string,uploadRequest:a.object,warnOnClose:a.bool.isRequired},getDefaultProps:function(){return{warnOnClose:!0}},componentDidMount:function(){var a=this;this._preventClose=!0;this._unloadListener=b("Run").onBeforeUnload(function(){return!a._shouldAllowClose()&&a.props.warnOnClose?b("ProfilePicCropViewerStrings").LEAVE_WARNING_UNLOAD:void 0},!0);this._logFlowStep(b("ProfilePictureFlowLogging").step.VIEWER_INIT)},componentDidUpdate:function(a,c){!c.photoData&&this.state.photoData&&this._logFlowStep(this.state.photoData.previousprofilepic?b("ProfilePictureFlowLogging").step.PREVIOUS_PIC_INIT:b("ProfilePictureFlowLogging").step.CROP)},componentWillUnmount:function(){this._warningDialog&&this._warningDialog.destroy(),this._warningDialog=null,this._unloadListener&&this._unloadListener.remove(),this._unloadListener=null},_forceClose:function(a){this._preventClose=!1,this.close(),this._logFlowStep(a||b("ProfilePictureFlowLogging").step.CANCEL)},handleCancel:function(){this.props.cancelCallback&&this.props.cancelCallback();if(!this.props.warnOnCancel||this._shouldAllowClose()){this._forceClose();return}this._showCloseWarning()},handleUploadCancel:function(){this.props.uploadRequest&&this.props.uploadRequest.abort(),this._forceClose(b("ProfilePictureFlowLogging").step.UPLOAD_CANCEL)},handlePositionSave:function(){var a=this._prepareSaver(),c=this.getCaption();a.saveAsProfilePicWithPosition(b("ProfilePicCoordinatesUtil").getThumbnailCoordinates(this.getCropArea(),this.getPhotoSize()),c)},handleSetThumbnailSave:function(){this.handlePositionSave(),this._logFlowStep(b("ProfilePictureFlowLogging").step.SKIP_CROP)},handleCropSave:function(){__p&&__p();var a=this.getCropArea(),c=this.getPhotoSize(),d=this.getCaption(),e=this._prepareSaver(),f=this.getOverlaySourceObjectID(),h=this.getPaymentID(),i=function(b){return e.saveCroppedProfilePic({x:a.x/c.width,y:a.y/c.height,width:a.width/c.width,height:a.height/c.height},b,d,f,h)},j=this.getOverlayData();if(!j){i();return}var k=this._getImage(c.uri);b("Event").listen(k,"load",function(){var d=new(b("ProfilePicCanvas"))(k),e=new g(null,j.id,j.src,c.width,c.height);e.subscribe("loaded",function(){d.addGraphic(e,new(b("Vector"))(a.x,a.y)),d.setResizeFactor(a.width/c.width),j.canvas=d,i(j)})})},_getImage:function(a){return b("DOM").create("img",{crossOrigin:"anonymous",src:a})},_prepareSaver:function(){this.setState({savingMode:!0});this._preventClose=!1;var a=this.state.expirationTime;a<=0&&(a=null);a=new(b("XProfilePicSaver"))(this.state.photoData.id,this.props.profileID,a,this.props.cropControllerURIBuilder).setFlowType(this.getFlowType());b("tidyEvent")([a.subscribe("success",this._savingSuccess),a.subscribe("error",this._savingError)]);this.props.method&&a.setProfilePhotoMethod(this.props.method);this.props.source&&a.setProfilePhotoSource(this.props.source);return a},_logFlowStep:function(a){b("ProfilePictureFlowLogging").setFlowType(this.getFlowType()).setSource(this.props.source).log(a)},_savingSuccess:function(a,c){__p&&__p();if(b("WorkGoalSetProfilePictureManager").isOpen()){b("WorkGoalSetProfilePictureManager").informPhotoUploaded({response:c});this.inform("close");return}if(this.props.successCallback){this.props.successCallback(c,this.getOverlayData(),this.props.profileID);b("ProfileWizardProfilePictureManager").isOpen()&&b("ProfileWizardProfilePictureManager").informProfilePictureUploaded({response:c});this.close();return}if(b("ProfileWizardModalManager").isOpen()){b("ProfileWizardModalManager").informProfilePictureUploaded({response:c});this.close();return}if(b("ProfileEditFlowModalManager").isOpen()){b("ProfileEditFlowModalManager").informProfilePictureUploaded({response:c});this.close();return}if(b("ProfileWizardProfilePictureManager").isOpen()){b("ProfileWizardProfilePictureManager").informProfilePictureUploaded({response:c});this.close();return}a=new(b("DialogX"))({addedBehaviors:[b("LayerDestroyOnHide")],width:h,xui:!0,autohide:this.props.cropControllerURIBuilder?1e3:0},b("React").createElement("div",null,b("React").createElement(b("XUIDialogTitle.react"),{showCloseButton:!!this.props.cropControllerURIBuilder},b("ProfilePicCropViewerStrings").SAVED_TITLE),b("React").createElement(b("XUIDialogBody.react"),null,b("ProfilePicCropViewerStrings").SAVED_BODY)));a.subscribeOnce("aftershow",this.close);a.show();this.props.cropControllerURIBuilder||b("TimelineURI").goToProfileID(this.props.profileID)},_savingError:function(a,c){this._preventClose=!0,this.setState({savingMode:!1}),b("AsyncResponse").defaultErrorHandler(c),this.inform("save_error",c),this.props.errorCallback&&this.props.errorCallback()},_shouldAllowClose:function(){return!this._preventClose},_showCloseWarning:function(){var a=this;this._warningDialog||(this._warningDialog=new(b("DialogX"))({modal:!0,width:h,xui:!0},b("React").createElement("div",null,b("React").createElement(b("XUIDialogTitle.react"),null,b("ProfilePicCropViewerStrings").LEAVE_WARNING_TITLE),b("React").createElement(b("XUIDialogBody.react"),null,b("ProfilePicCropViewerStrings").LEAVE_WARNING_BODY),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",label:b("ProfilePicCropViewerStrings").LEAVE_WARNING_CANCEL}),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",onClick:function(){return a._forceClose()},label:b("ProfilePicCropViewerStrings").LEAVE_WARNING_OK,use:"confirm"})))));this._warningDialog.show()}};e.exports=c}),null);
__d("ProfilePicOverlay.react",["cx","Image.react","React","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("Image.react"),babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_4i_g")}))};return c}(b("React").PureComponent);c.propTypes={src:a.string.isRequired};e.exports=c}),null);
__d("ProfilePicOverlayChangePictureButton.react",["fbt","PhotoBrowserLink.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=g._("Mudar foto");return b("React").createElement(b("PhotoBrowserLink.react"),babelHelpers["extends"]({},this.props,{label:a,renderType:"button",size:"large"}))};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProductionPromptShapes",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=a.shape({promptID:a.string.isRequired,promptType:a.string.isRequired,trackingString:a.string.isRequired});e.exports={LOGGING_DATA:c}}),null);
__d("ProfileFrameDiscoveryActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SAVE:"save",CLICK_CHEVRON:"click_chevron",MESSAGE:"message",HIDE:"hide",REPORT:"report",COPY:"copy",SELECT:"select",LAND:"land"})}),null);
__d("ProfilePicMenuDialogSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PROFILE_FRAMES:"profile_frames",PROFILE_PICTURE:"profile_picture",FEATURED_PHOTOS:"featured_photos",HOLIDAY_CARD:"holiday_card"})}),null);
__d("ProfilePicOverlayPhotoPlaceholder.react",["ix","cx","fbt","Image.react","PhotoBrowserLink.react","React","XUIText.react","fbglyph","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("PhotoBrowserLink.react"),{className:b("joinClasses")(this.props.className,"_-ly"),dialogURI:this.props.dialogURI,onPhotoChoose:this.props.onPhotoChoose,style:{height:this.props.dimension,width:this.props.dimension}},b("React").createElement("div",{className:"_-lz"},b("React").createElement(b("Image.react"),{className:"_-l_",src:g("142595")}),b("React").createElement(b("XUIText.react"),{size:"xlarge_DEPRECATED"},i._("Selecione uma foto"))))};return c}(b("React").Component);e.exports=a}),null);
__d("ProfilePicOverlaySearchResult.react",["cx","fbt","BasicVector","CircularProfilePicGating","Layout.react","PhotoZoomCropDimensions","PhotoZoomCropImagePreview.react","React","Image.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=80;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){c=a.call(this,c)||this;var d=new(b("PhotoZoomCropDimensions"))(new(b("BasicVector"))(k,k));d.setZoom(1);c.$1=d;return c}var d=c.prototype;d.render=function(){var a=this.props.result,c=a.overlay;a=a.contextDescription;var d=null;a&&(d=b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},a.text));a=b("CircularProfilePicGating").displayCircularProfilePic;var e=b("React").createElement(b("Image.react"),{className:a?"_6rid":"",height:k,src:c.url,width:k});return b("React").createElement(b("Layout.react"),{className:"_22kw"},b("React").createElement(i,null,b("React").createElement(b("PhotoZoomCropImagePreview.react"),{className:"_22kx _3-90"+(a?" _6rid":""),dimensions:this.$2(),overlay:e,size:{x:k,y:k},src:this.props.photoData.src})),b("React").createElement(j,null,b("React").createElement(b("XUIText.react"),{display:"block",size:"header4"},c.name?c.name:c.layer_owner.name),b("React").createElement(b("XUIGrayText.react"),{display:"block",size:"meta1"},h._("De {page name}",[h._param("page name",c.layer_owner.name)])),d))};d.$2=function(){return this.props.photoData.dimensions||this.$1};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProfileFrameDiscoveryHideMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1434451036634234"};b.getQueryID=function(){return"484670801902064"};return b}(b("WebGraphQLMutationBase"))}),null);
__d("ProfilePictureOverlayDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("ProfilePicOverlaySearchResultActionMenu.react",["fbt","regeneratorRuntime","AsyncDialog","AsyncRequest","ClientIDs","CurrentUser","Dialog","FDSDropdownMenu.react","FRXEntryPoint","FRXURI","NFXStoryLocation","ProfileFrameDiscoveryActions","ProfileFrameDiscoveryActionsTypedLogger","ProfileFrameDiscoveryHideMutationWebGraphQLMutation","ProfilePictureOverlayDispatcher","React","ReactDOM","SharerType","WebGraphQL","XProfilePictureOverlayLandingController","XShareDialogController","XUIText.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("ClientIDs").getNewClientID;a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(){var a;a=b("XShareDialogController").getURIBuilder().setString("id",(a=d.props.result.overlay)!=null?a.id:a).setString("url",d.$4()).setString("st",b("SharerType").MESSAGE_ONLY).getURI();b("AsyncDialog").send(new(b("AsyncRequest"))(a).setRelativeTo(b("ReactDOM").findDOMNode(d.refs.dropdown)));new(b("ProfileFrameDiscoveryActionsTypedLogger"))().setFrameID((a=d.props.result.overlay)!=null?a.id:a).setEvent(b("ProfileFrameDiscoveryActions").MESSAGE).log()},d.$3=function(){__p&&__p();var a,c,e,f,g;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:e=(c=d.props.result.overlay)!=null?c.id:c;if(!e){i.next=12;break}i.prev=2;i.next=5;return b("regeneratorRuntime").awrap(b("WebGraphQL").exec(new(b("ProfileFrameDiscoveryHideMutationWebGraphQLMutation"))({input:{actor_id:b("CurrentUser").getID(),client_mutation_id:h(),effect_id:e}})));case 5:g=i.sent;b("ProfilePictureOverlayDispatcher").dispatch({type:"search_result_hidden",payload:{hiddenEffectID:(f=g)!=null?(f=f.media_effect_hide)!=null?(f=f.effect)!=null?f.id:f:f:f}});i.next=12;break;case 9:i.prev=9,i.t0=i["catch"](2),d.$5();case 12:new(b("ProfileFrameDiscoveryActionsTypedLogger"))().setFrameID((a=d.props.result.overlay)!=null?a.id:a).setEvent(b("ProfileFrameDiscoveryActions").HIDE).log();case 13:case"end":return i.stop()}},null,this,[[2,9]])},d.$2=function(){var a;a=b("FRXURI").withEntReportable({reportable_ent_token:(a=d.props.result.overlay)!=null?a.id:a,story_location:b("NFXStoryLocation").PROFILE_FRAME_DISCOVERY,entry_point:b("FRXEntryPoint").PROFILE_REPORT_BUTTON});new(b("AsyncRequest"))().setURI(a).send();new(b("ProfileFrameDiscoveryActionsTypedLogger"))().setFrameID((a=d.props.result.overlay)!=null?a.id:a).setEvent(b("ProfileFrameDiscoveryActions").REPORT).log()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=[{type:"item",label:b("React").createElement(b("XUIText.react"),null,g._("Enviar como mensagem")),onClick:this.$1},{type:"item",label:b("React").createElement(b("XUIText.react"),null,g._("Denunciar tema")),onClick:this.$2},{type:"item",label:b("React").createElement(b("XUIText.react"),null,g._("Ocultar tema")),onClick:this.$3}];return b("React").createElement(b("FDSDropdownMenu.react"),{buttonUse:"flat",items:a,label:g._("A\u00e7\u00f5es com tema"),labelIsHidden:!0,onMenuButtonClick:this.props.onMenuClick,ref:"dropdown"})};d.$5=function(){new(b("Dialog"))().setTitle(g._("Falha")).setBody(g._("Ocorreu um erro.")).setButtons(b("Dialog").OK).show()};d.$4=function(){var a;return b("XProfilePictureOverlayLandingController").getURIBuilder().setInt("selected_overlay_id",(a=this.props.result.overlay)!=null?a.id:a).getURI().qualify().toString()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProfilePicOverlaySearchResults.react",["cx","fbt","CenteredContainer.react","FlexLayout.react","InfiniteScroll.react","Keys","List.react","ProfileFrameDiscoveryActions","ProfileFrameDiscoveryActionsTypedLogger","ProfilePicOverlaySearchResult.react","ProfilePicOverlaySearchResultActionMenu.react","React","ShimButton.react","XUIGrayText.react","XUISpinner.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=300;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){__p&&__p();var a=this,c=null;this.props.loading&&(c=b("React").createElement("div",{className:"_1y8l",style:{lineHeight:this.props.height+"px"}},b("React").createElement(b("XUISpinner.react"),{size:"large"})));var d=null;!c&&this.props.hasMoreResults&&(d=b("React").createElement("li",null,b("React").createElement("div",{className:"_2pig _2pip _1dey"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))));var e=null;this.props.resultsIDOrder.count()===0?e=b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0},b("React").createElement(b("XUIText.react"),{className:"_3-8p",display:"block",size:"header3",weight:"bold"},h._("Nenhum resultado encontrado")),b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"light"},h._("N\u00e3o foi poss\u00edvel encontrar nenhum resultado. Tente fazer outra pesquisa."))):e=b("React").createElement(b("List.react"),{edgepadding:!0,spacing:"small"},this.props.resultsIDOrder.map(function(c){var d=a.props.results.get(c),e=c===a.props.selectedResultID,f=b("React").createElement(b("ProfilePicOverlaySearchResult.react"),{checked:e,photoData:a.props.photoData,result:d}),g=null;a.props.showActions?g=(e?"_1ewi":"")+(e?"":" _1ex0")+" _2pis _2pij":g="_2pis _2pij";return b("React").createElement("li",{className:g,key:c},b("React").createElement(b("FlexLayout.react"),null,b("React").createElement(b("ShimButton.react"),{className:"_7b-a",onClick:function(){a.props.onResultSelected(d),new(b("ProfileFrameDiscoveryActionsTypedLogger"))().setFrameID(c).setEvent(b("ProfileFrameDiscoveryActions").SELECT).log()},onKeyPress:function(b){return a.$1(b,d)}},f),b("React").createElement(b("ProfilePicOverlaySearchResultActionMenu.react"),{onMenuClick:function(b){return a.$2(b,c)},result:a.props.results.get(c)})))}),d);return b("React").createElement("div",{className:b("joinClasses")(this.props.loading?"_1_58":"",this.props.className),style:{height:this.props.height}},c,b("React").createElement(b("InfiniteScroll.react"),{distanceToEnd:i,onEndReached:this.$3.bind(this),style:{height:this.props.height}},e))};d.$2=function(a,c){a.stopPropagation(),new(b("ProfileFrameDiscoveryActionsTypedLogger"))().setFrameID(c).setEvent(b("ProfileFrameDiscoveryActions").CLICK_CHEVRON).log()};d.$1=function(a,c){a.charCode===b("Keys").RETURN&&this.props.onResultSelected(c)};d.$3=function(){if(this.props.paginating||!this.props.hasMoreResults||this.props.resultsIDOrder.count()===0)return;this.props.onResultsEndReached()};return c}(b("React").PureComponent);e.exports=a}),null);
__d("ProfilePicOverlayViewShapes",["React"],(function(a,b,c,d,e,f){a=b("React").PropTypes;c=a.shape({id:a.string.isRequired,src:a.string.isRequired});d=a.shape({original:a.shape({height:a.number.isRequired,uri:a.string.isRequired,width:a.number.isRequired}),id:a.string});e.exports={PHOTO_DATA:d,OVERLAY_DATA:c}}),null);
__d("ProfilePicOverlayZoomCrop.react",["cx","BasicVector","CircularProfilePicGating","PhotoZoomCropDimensions","PhotoZoomCropImage.react","PhotoZoomCropMixin","PhotoZoomCropSlider.react","ProfilePicOverlay.react","ProfilePicOverlayViewShapes","ProfilePictureOverlayTypedLogger","React","SpotlightProfilePicCropOptions","XUISpinner.react","debounce"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=100;c=b("React").createClass({displayName:"ProfilePicOverlayZoomCrop",_moveDoneDebouncer:null,_dims:null,mixins:[b("PhotoZoomCropMixin")],propTypes:{height:a.number.isRequired,onMoveDone:a.func,onOverlayLoad:a.func,onZoomDone:a.func,overlayData:b("ProfilePicOverlayViewShapes").OVERLAY_DATA,photoData:b("ProfilePicOverlayViewShapes").PHOTO_DATA.isRequired,savingMode:a.bool.isRequired,width:a.number.isRequired},getInitialState:function(){this._updateDimensions(this.props.photoData);return this._getUpdatedDimensionsState()},UNSAFE_componentWillMount:function(){var a=this.props.onMoveDone;a&&(this._moveDoneDebouncer=b("debounce")(function(){return a()},h,this))},UNSAFE_componentWillReceiveProps:function(a){var c,d;d=(d=this.props.overlayData)!=null?d.id:d;c=(c=a.overlayData)!=null?c.id:c;c&&d!==c&&new(b("ProfilePictureOverlayTypedLogger"))().setEventName("staging_ground_effect_impression_start").setPhotoID(a.photoData.id).setStickerID(c).log();if(this.props.photoData.id===a.photoData.id)return;this._updateDimensions(a.photoData);this.setState(this._getUpdatedDimensionsState())},_updateDimensions:function(a){__p&&__p();var c=new(b("BasicVector"))(a.original.width,a.original.height);a=b("SpotlightProfilePicCropOptions").getOptionsAsRatio(a,c);var d=a.center;a=a.size;var e=new(b("PhotoZoomCropDimensions"))(c);e.setSize(this.props.width,this.props.height);d&&e.setCenter(d.x,d.y);if(a){d=a.x*c.x;e.setZoom(e.getSize().x/d)}this._dims=e},_getUpdatedDimensionsState:function(){var a=this._getDimensionsState();a.position=this._dims&&this._dims.getZoom();return a},render:function(){var a=null;this.props.savingMode&&(a=b("React").createElement("div",{className:"_5chi"},b("React").createElement(b("XUISpinner.react"),{background:"dark",className:"_5chj",size:"large"})));var c=null;this.props.overlayData&&(c=b("React").createElement(b("ProfilePicOverlay.react"),{onLoad:this.props.onOverlayLoad,src:this.props.overlayData.src}));return b("React").createElement("div",null,b("React").createElement("div",{className:"_5cia"},b("React").createElement(b("PhotoZoomCropImage.react"),{circular:b("CircularProfilePicGating").displayCircularProfilePic,className:"_5cib",dimensions:this._dims,onMove:this._customHandleMove,overlay:c,enableDrag:!!(this._dims&&this._dims.isCurrentlyDragable()),src:this.props.photoData.original.uri}),a),b("React").createElement(b("PhotoZoomCropSlider.react"),{className:"_5cid",onZoom:this._customHandleZoom,position:this.state.position,zoom:this.state.zoom,zoomRange:this._dims&&this._dims.getZoomRange()}))},_customHandleMove:function(a,b){this._moveDoneDebouncer&&this._moveDoneDebouncer.reset(),this._handleMove(a,b),this._moveDoneDebouncer&&this._moveDoneDebouncer()},_customHandleZoom:function(a,b){this._moveDoneDebouncer&&this._moveDoneDebouncer.reset(),this._handleZoom(a,b),this._moveDoneDebouncer&&this._moveDoneDebouncer()},__getZoom:function(){return this.state.zoom}});e.exports=c}),null);
__d("XProfilePictureOverlayMenuDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gameface/menu_dialog/",{dialog_surface:{type:"Enum",enumType:1},profile_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("XProfilePictureOverlayPhotoAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/gameface/get_photo/",{photo_id:{type:"String"}})}),null);
__d("ProfilePicOverlayLandingViewV2.react",["cx","ActorSelector.react","ArbiterMixin","AsyncRequest","AtSignMentionsStrategy","CurrentUser","DateConsts","DocumentCompositeMentionsSource","DocumentMentionsSource","EditorState","Event","Layout.react","MentionsInput.react","MentionsInputTypeaheadView.react","ProfileFrameDiscoveryActions","ProfileFrameDiscoveryActionsTypedLogger","ProfilePicCropViewerMixin","ProfilePicCropViewerStrings","ProfilePicExpirationSelector.react","ProfilePicMenuDialogSurface","ProfilePicOverlayChangePictureButton.react","ProfilePicOverlayPhotoPlaceholder.react","ProfilePicOverlaySearchInput.react","ProfilePicOverlaySearchResults.react","ProfilePicOverlayViewShapes","ProfilePicOverlayZoomCrop.react","ProfilePictureFlowLogging","XReactFeedComposerXPromptDismissController","ProductionPromptShapes","PromptsInteractionsEventNames","React","SpotlightViewerCoreMixin","Tooltip","URI","WebAsyncSearchSource","XUIButton.react","XUICard.react","XProfilePictureOverlayLandingController","XProfilePictureOverlayMenuDialogController","XProfilePictureOverlayPhotoAsyncController","immutable","getMentionsInputDecorator","getMentionsTextForContentState","goURI","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("Layout.react").Column,i=b("Layout.react").FillColumn,j=b("immutable").Map,k=512,l=348,m=424,n=469,o="profile-picture-overlay";c=b("React").PropTypes;d=b("React").createClass({displayName:"ProfilePicOverlayLandingViewV2",mixins:[b("ArbiterMixin"),b("ProfilePicCropViewerMixin"),b("SpotlightViewerCoreMixin")],propTypes:{actorIDs:c.arrayOf(c.string),hasMoreSearchResults:c.bool,height:c.number.isRequired,initialPhotoData:b("ProfilePicOverlayViewShapes").PHOTO_DATA,onSearch:c.func.isRequired,onSearchResultSelected:c.func.isRequired,onSearchResultsEndReached:c.func.isRequired,overlaySourceObjectID:c.string,paymentID:c.string,profileID:c.string,promptData:b("ProductionPromptShapes").LOGGING_DATA,searchQuery:c.string,searchResults:c.object.isRequired,searchResultsIDOrder:c.object.isRequired,selectedOverlayID:c.string,suggestedSearchQueries:c.arrayOf(c.string),surface:c.string,useWorkProfileFrames:c.bool,width:c.number.isRequired},getInitialState:function(){var a={open:!0},c=b("DateConsts").SEC_PER_WEEK;c={expirationTime:c,photoData:this.props.initialPhotoData,savingMode:!1};return babelHelpers["extends"]({},a,c,{captionEditorState:b("EditorState").createEmpty(b("getMentionsInputDecorator")()),caption:"",loadingSearchResults:!1,paginating:!1})},componentDidMount:function(){this.setState({dimensions:this.getDimensions()})},render:function(){__p&&__p();var a=this,c=this.props.selectedOverlayID,d=null;this.props.actorIDs&&this.props.actorIDs.length&&(d=b("React").createElement(b("ActorSelector.react"),{actorIDs:this.props.actorIDs,loading:!1,onChange:function(a){return b("goURI")(b("XProfilePictureOverlayLandingController").getURIBuilder().setInt("profile_id",a.value).setInt("selected_overlay_id",c).getURI())},selectedActorID:this.props.profileID,coverEnabled:!1}));var e=b("XProfilePictureOverlayMenuDialogController").getURIBuilder().setEnum("dialog_surface",b("ProfilePicMenuDialogSurface").PROFILE_FRAMES).setFBID("profile_id",this.props.profileID).getURI(),f;this.state.photoData.id?f=b("React").createElement("div",null,b("React").createElement(b("ProfilePicOverlayZoomCrop.react"),{height:this.props.height,onMoveDone:function(){return a.setState({dimensions:a.getDimensions()})},onOverlayLoad:this._onOverlayLoad,onZoomDone:function(){return a.setState({dimensions:a.getDimensions()})},overlayData:this.getOverlayData(),photoData:this.state.photoData,ref:"zoomCrop",savingMode:this.state.savingMode,width:this.props.width})):f=b("React").createElement("div",{style:{height:n,width:m}},b("React").createElement(b("ProfilePicOverlayPhotoPlaceholder.react"),{dialogURI:e,dimension:m,onPhotoChoose:this._onPhotoChoose}));e=this.props.useWorkProfileFrames?null:b("React").createElement(b("Layout.react"),{className:"_2ph_ _169q"},b("React").createElement(i,{className:"_169r"},b("React").createElement(b("ProfilePicOverlaySearchInput.react"),{onChange:function(){return a.setState({loadingSearchResults:!0})},onClear:function(){a.setState({loadingSearchResults:!0}),a._onSearchQuery("")},onQuery:this._onSearchQuery,value:this.props.searchQuery,suggestedSearchQueries:this.props.suggestedSearchQueries})),b("React").createElement(h,null,b("React").createElement(b("ProfilePicOverlayChangePictureButton.react"),{dialogURI:e,onPhotoChoose:this._onPhotoChoose})));return b("React").createElement(b("XUICard.react"),null,e,b("React").createElement(b("Layout.react"),{style:{height:k}},b("React").createElement(h,{className:"_1xkg",style:{width:l}},b("React").createElement(b("ProfilePicOverlaySearchResults.react"),{className:"_8s3",hasMoreResults:!!this.props.hasMoreSearchResults,height:k,loading:this.state.loadingSearchResults,onResultSelected:this._onSearchResultSelected,onResultsEndReached:this._onSearchResultsEndReached,paginating:this.state.paginating,photoData:{dimensions:this.state.dimensions,src:this.state.photoData.original.uri},results:this.props.searchResults,resultsIDOrder:this.props.searchResultsIDOrder,selectedResultID:c})),b("React").createElement(h,{className:"_1xkh"},f)),b("React").createElement(b("Layout.react"),{className:"_1z2f"},b("React").createElement(b("MentionsInput.react"),{className:"_1z2j _3-9c _3-8y",editorKey:"CAPTION_INPUT",editorState:this.state.captionEditorState,linkify:!0,mentionsSource:q,placeholder:b("ProfilePicCropViewerStrings").CAPTION_INPUT_PLACEHOLDER,renderEmoji:!0,typeaheadView:b("MentionsInputTypeaheadView.react"),onChange:this._onCaptionChanged})),b("React").createElement(b("Layout.react"),{className:"_2ph_ _t73"},b("React").createElement(h,null,d),b("React").createElement(i,{className:"_t74"},b("React").createElement(b("ProfilePicExpirationSelector.react"),{allowCustomDate:!0,className:"_3-90",defaultValue:this.state.expirationTime,onChange:function(b){return a.setState({expirationTime:b})},showCustomOption:!0}),b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({disabled:this.state.savingMode||!this.state.photoData.id||!this.getOverlayData(),label:b("ProfilePicCropViewerStrings").USE_AS_PROFILE_PICTURE,onClick:function(){return a._handleSave()},size:"large",use:"confirm"},b("Tooltip").propsFor(b("ProfilePicCropViewerStrings").PROFILE_PIC_VISIBILITY))))))},_onCaptionChanged:function(a){this.setState({captionEditorState:a}),this.setState({caption:b("getMentionsTextForContentState")(a.getCurrentContent())})},_onSearchResultSelected:function(a){var c=this.props.selectedOverlayID;if(a.overlay.id===c)return;this.setState({savingMode:!0});this.props.onSearchResultSelected(a);p(b("URI").getRequestURI(!1).addQueryData({selected_overlay_id:a.overlay.id}).toString())},_onSearchResultsEndReached:function(){var a=this;this.setState({paginating:!0});this.props.onSearchResultsEndReached(function(){return a.setState({paginating:!1})})},_onSearchQuery:function(a){var c=this;this.props.onSearch(a,function(){c.setState({loadingSearchResults:!1,paginating:!1})});p(b("URI").getRequestURI(!1).addQueryData({query:a}).toString())},_onPhotoChoose:function(a){this.setState({savingMode:!0});a=b("XProfilePictureOverlayPhotoAsyncController").getURIBuilder().setString("photo_id",a).getURI();new(b("AsyncRequest"))(a).setHandler(this._asyncResponseHandler).send()},_asyncResponseHandler:function(a){var c=this;a=a.payload;var d=new j(this.state.photoData).set("original",a.original).set("id",a.id).toObject(),e=new Image();b("tidyEvent")(b("Event").listen(e,"load",function(){return c.setState({photoData:d,savingMode:!1},function(){return c.setState({dimensions:c.getDimensions()})})}));e.src=a.original.uri},_onOverlayLoad:function(){this.setState({savingMode:!1})},_handleSave:function(){new(b("ProfileFrameDiscoveryActionsTypedLogger"))().setFrameID(this.props.selectedOverlayID).setEvent(b("ProfileFrameDiscoveryActions").SAVE).log();if(this.props.promptData){var a=this.props.promptData,c=a.promptID,d=a.promptType;a=a.trackingString;new(b("AsyncRequest"))().setURI(b("XReactFeedComposerXPromptDismissController").getURIBuilder().getURI()).setData({user_action:b("PromptsInteractionsEventNames").POST_PROMPT,prompt_id:c,prompt_type:d,prompt_tracking_string:a}).send()}this.handleCropSave()},getDimensions:function(){return this.refs.zoomCrop&&this.refs.zoomCrop.getDimensions()},getCropArea:function(){var a=this.refs.zoomCrop&&this.refs.zoomCrop.getDimensions();return a&&a.getArea()},getFlowType:function(){return b("ProfilePictureFlowLogging").flow.ZOOMCROP},getPhotoSize:function(){return this.state.photoData.original},getCaption:function(){return this.state.caption},getOverlayData:function(){var a=this.props.selectedOverlayID;if(a){var b=this.props.searchResults.get(a);if(b)return{id:a,src:b.overlay.url}}return null},getOverlaySourceObjectID:function(){return this.props.overlaySourceObjectID},getPaymentID:function(){return this.props.paymentID},getViewerID:function(){return o+":"+this.state.photoData.id+":"+this.props.profileID+":"+this.props.selectedPageID}});function p(a){window.history&&window.history.replaceState(null,"",a)}function a(){var a=new(b("WebAsyncSearchSource"))({bootstrapRequests:[{uri:"/ajax/typeahead/first_degree.php",data:{viewer:b("CurrentUser").getID(),context:"mentions",filter:["user","page","app","event"],options:["friends_only","nm"]}}],queryRequests:[{uri:"/ajax/typeahead/search.php",data:{viewer:b("CurrentUser").getID(),context:"topics_limited_autosuggest",filter:["user","page","app","event"],max_result:10,rsp:"mentions",options:["friends_only","nm"]}}]});a=new(b("DocumentMentionsSource"))(b("AtSignMentionsStrategy"),a);a=new(b("DocumentCompositeMentionsSource"))([a]);return a}var q=a();e.exports=d}),null);
__d("ProfilePictureMediaEffect",["immutable"],(function(a,b,c,d,e,f){__p&&__p();a=b("immutable").Record;c=a({id:"",layer_owner:{name:""},name:null,url:""});d=function(a){"use strict";babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.fromObject=function(a){return new b(babelHelpers["extends"]({},a,{url:a.image.uri}))};return b}(c);e.exports=d}),null);
__d("ProfilePictureMediaEffectSearchResult",["ProfilePictureMediaEffect","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("immutable").Record;c=a({overlay:new(b("ProfilePictureMediaEffect"))(),context_description:{text:""}});d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}c.fromObject=function(a){return new c({overlay:b("ProfilePictureMediaEffect").fromObject(a.overlay),context_description:a.context_description})};return c}(c);e.exports=d}),null);
__d("ProfilePictureMediaEffectSearchResultsStore",["FluxMapStore","ProfilePictureMediaEffectSearchResult","ProfilePictureOverlayDispatcher"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,b){switch(b.type){case"search_bootstrap":return this.$ProfilePictureMediaEffectSearchResultsStore1(a,b.payload);case"search_pagination":case"search_results_returned":return this.$ProfilePictureMediaEffectSearchResultsStore2(a,b.payload);default:return a}};d.$ProfilePictureMediaEffectSearchResultsStore1=function(a,c){var d=c.results;return!d?a:a.withMutations(function(a){d.forEach(function(c){return a.set(c.node.overlay.id,b("ProfilePictureMediaEffectSearchResult").fromObject(c.node))})})};d.$ProfilePictureMediaEffectSearchResultsStore2=function(a,c){var d=c.results;return!d?a:a.withMutations(function(a){d.edges.forEach(function(c){var d=b("ProfilePictureMediaEffectSearchResult").fromObject(c.node);c=c.node.overlay.id;var e=a.get(c);(!e||!e.equals(d))&&a.set(c,d)})})};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("ProfilePictureOverlayDispatcher"))}),null);
__d("ProfilePictureMediaEffectViewStore",["FluxReduceStore","ProfilePictureMediaEffectSearchResultsStore","ProfilePictureOverlayDispatcher","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g=b("immutable").OrderedSet;a=b("immutable").Record;var h=function(b){"use strict";babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(a({hasMoreSearchResults:!1,searchCursor:null,searchQuery:"",searchResultIDs:g(),selectedEffectID:null}));c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return new h()};d.reduce=function(a,b){switch(b.type){case"search_bootstrap":return this.$ProfilePictureMediaEffectViewStore1(a,b.payload);case"search_results_returned":return this.$ProfilePictureMediaEffectViewStore2(a,b.payload);case"search_result_hidden":return this.$ProfilePictureMediaEffectViewStore3(a,b.payload);case"search_result_selected":return this.$ProfilePictureMediaEffectViewStore4(a,b.payload);case"search_pagination":return this.$ProfilePictureMediaEffectViewStore5(a,b.payload);default:return a}};d.getSearchCursor=function(){return this.getState().get("searchCursor")};d.getSearchQuery=function(){return this.getState().get("searchQuery")};d.getSelectedEffectID=function(){return this.getState().get("selectedEffectID")};d.getSearchResultIDs=function(){return this.getState().get("searchResultIDs")};d.hasMoreSearchResults=function(){return this.getState().get("hasMoreSearchResults")};d.$ProfilePictureMediaEffectViewStore1=function(a,c){var d=c.cursor,e=c.hasNextPage,f=c.query,h=c.results,i=c.selectedEffectID;b("ProfilePictureOverlayDispatcher").waitFor([b("ProfilePictureMediaEffectSearchResultsStore").getDispatchToken()]);var j=h.map(function(a){return a.node.overlay.id});return a.withMutations(function(a){a.set("hasMoreSearchResults",e),a.set("searchCursor",d),a.set("searchQuery",f),a.set("searchResultIDs",new g(j)),a.set("selectedEffectID",i)})};d.$ProfilePictureMediaEffectViewStore3=function(a,b){var c=b.hiddenEffectID,d=this.getSearchResultIDs();return a.withMutations(function(b){b.set("searchResultIDs",d.remove(c)),a.get("selectedEffectID")===c&&b.set("selectedEffectID",null)})};d.$ProfilePictureMediaEffectViewStore4=function(a,b){var c=b.selectedEffectID;return a.withMutations(function(a){a.set("selectedEffectID",c)})};d.$ProfilePictureMediaEffectViewStore2=function(a,b){var c=b.results;if(!c)return a;var d=c.edges.map(function(a){return a.node.overlay.id});return a.withMutations(function(a){a.set("hasMoreSearchResults",c.page_info.has_next_page),a.set("searchCursor",c.page_info.end_cursor),a.set("searchResultIDs",new g(d))})};d.$ProfilePictureMediaEffectViewStore5=function(a,b){var c=b.results;if(!c)return a;var d=this.getSearchResultIDs(),e=new g(c.edges.map(function(a){return a.node.overlay.id}));return a.withMutations(function(a){a.set("hasMoreSearchResults",c.page_info.has_next_page),a.set("searchCursor",c.page_info.end_cursor),a.set("searchResultIDs",d.concat(e))})};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("ProfilePictureOverlayDispatcher"))}),null);
__d("ProfilePictureOverlayV2FluxContainer.react",["FluxContainer","ProfilePictureMediaEffectSearchResultsStore","ProfilePictureMediaEffectViewStore","ProfilePictureOverlayDispatcher","React","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map,h=b("immutable").OrderedSet;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasMoreSearchResults:!0,searchCursor:null,searchQuery:"",searchResults:g(),searchResultsIDOrder:h(),selectedOverlayID:null},c.$2=function(a){var b=c.state,d=b.searchCursor;b=b.searchQuery;c.props.sendSearchResultsEndQuery(b,d,a)},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("ProfilePictureMediaEffectSearchResultsStore"),b("ProfilePictureMediaEffectViewStore")]};c.calculateState=function(){var a=b("ProfilePictureMediaEffectViewStore").getSearchResultIDs();return{hasMoreSearchResults:b("ProfilePictureMediaEffectViewStore").hasMoreSearchResults(),searchCursor:b("ProfilePictureMediaEffectViewStore").getSearchCursor(),searchQuery:b("ProfilePictureMediaEffectViewStore").getSearchQuery(),searchResults:b("ProfilePictureMediaEffectSearchResultsStore").getAll(a),searchResultsIDOrder:a,selectedOverlayID:b("ProfilePictureMediaEffectViewStore").getSelectedEffectID()}};var d=c.prototype;d.render=function(){var a=this.props.Component;return b("React").createElement(a,babelHelpers["extends"]({},this.state,this.props,{onSearch:this.props.sendSearchQuery,onSearchResultSelected:this.$1,onSearchResultsEndReached:this.$2}))};d.$1=function(a){b("ProfilePictureOverlayDispatcher").dispatch({type:"search_result_selected",payload:{selectedEffectID:a.overlay.id}})};return c}(b("React").Component);e.exports=b("FluxContainer").create(a,{pure:!1})}),null);
__d("RankedProfilePictureOverlayQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"1467273726660078"};b.getQueryID=function(){return"1730622840566450"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("ProfilePicOverlayLandingViewV2Init",["ProfilePictureOverlayDispatcher","ProfilePictureOverlayV2FluxContainer.react","RankedProfilePictureOverlayQueryWebGraphQLQuery","React","ReactRenderer","XAsyncRequest","ProfilePictureMediaEffectSearchResultsStore","ProfilePictureMediaEffectViewStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=10;a={_searchRequest:null,_overlaySize:null,init:function(a,c){b("ProfilePictureOverlayDispatcher").explicitlyRegisterStores([b("ProfilePictureMediaEffectSearchResultsStore"),b("ProfilePictureMediaEffectViewStore")]);var d=a.bootstrapData,e=a.props;this._overlaySize=d.overlaySize;b("ReactRenderer").renderComponent(b("React").createElement(b("ProfilePictureOverlayV2FluxContainer.react"),babelHelpers["extends"]({},e,{sendSearchResultsEndQuery:this._sendSearchResultsEndQuery.bind(this),sendSearchQuery:this._sendSearchQuery.bind(this),successCallback:c})),a.root);b("ProfilePictureOverlayDispatcher").dispatch({type:"search_bootstrap",payload:{cursor:d.cursor,hasNextPage:d.hasNextPage,query:d.query,results:d.overlays,selectedEffectID:d.selectedEffectID}})},_sendSearchResultsEndQuery:function(a,c,d){__p&&__p();var e=this;this._searchRequest&&this._searchRequest.abort();if(!c){d();return}c=b("RankedProfilePictureOverlayQueryWebGraphQLQuery").getURI({cursor:c,num_results:g,overlay_dimension:this._overlaySize,query:a});this._searchRequest=new(b("XAsyncRequest"))(c).setHandler(function(b){e._dispatchQueryAndResponseWithType("search_pagination",a,b),e._searchRequest=null,d()});this._searchRequest.send()},_sendSearchQuery:function(a,c){var d=this;this._searchRequest&&this._searchRequest.abort();var e=b("RankedProfilePictureOverlayQueryWebGraphQLQuery").getURI({num_results:g,overlay_dimension:this._overlaySize,query:a});this._searchRequest=new(b("XAsyncRequest"))(e).setHandler(function(b){d._dispatchQueryAndResponseWithType("search_results_returned",a,b),d._searchRequest=null,c()});this._searchRequest.send()},_dispatchQueryAndResponseWithType:function(a,c,d){b("ProfilePictureOverlayDispatcher").dispatch({type:a,payload:{query:c,results:d.payload.data.viewer.ranked_profile_picture_overlays}})}};e.exports=a}),null);
__d("XProfilePictureOverlayDonationAsyncDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/donation_frames/donate_dialog/",{overlay_id:{type:"FBID",required:!0},profile_id:{type:"FBID"},__asyncDialog:{type:"Int"}})}),null);
__d("ProfilePicOverlayLandingViewV2InitDesktop",["AsyncRequest","ProfilePicOverlayLandingViewV2Init","ProfileWizardProfilePictureManager","XProfilePictureOverlayDonationAsyncDialogController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={init:function(a,c){var d=this,e=null;c.containerDialog&&(e=function(a,b,e){return d._donateDialogCallback(c.containerDialog,b,e)});b("ProfilePicOverlayLandingViewV2Init").init(a,e)},_donateDialogCallback:function(a,c,d){if(b("ProfileWizardProfilePictureManager").isOpen())a.hide();else{c=b("XProfilePictureOverlayDonationAsyncDialogController").getURIBuilder().setFBID("overlay_id",c.id).setFBID("profile_id",d).getURI();new(b("AsyncRequest"))(c).setHandler(function(){return a.hide()}).send()}}};e.exports=a}),null);